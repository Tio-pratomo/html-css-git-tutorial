---
title: REST API Buku dengan Node.js + Express
---

## Materi: Pengetahuan & Konsep

Sesi 21 ini kita mulai konkret ke backend: mendesain **REST API sederhana untuk resource `books`** yang nanti akan dipakai oleh UI Bulma kamu.

Kita pakai **Node.js + Express** karena:

- Express adalah framework web minimalis yang sangat sering dipakai untuk membuat REST API.
- Dokumentasi dan contoh Express untuk API CRUD sangat banyak dan modern (pakai `express.json()`, ES6, dsb.).

Pola umum REST API untuk resource `books` biasanya seperti ini:

| Operasi (CRUD) | HTTP Method | URL              | Deskripsi singkat           |
| -------------- | ----------- | ---------------- | --------------------------- |
| Create         | POST        | `/api/books`     | Tambah buku baru            |
| Read (list)    | GET         | `/api/books`     | Ambil semua buku            |
| Read (detail)  | GET         | `/api/books/:id` | Ambil 1 buku berdasarkan id |
| Update         | PUT/PATCH   | `/api/books/:id` | Update data buku            |
| Delete         | DELETE      | `/api/books/:id` | Hapus buku                  |

Di banyak panduan REST API, CRUD ↔ HTTP method ini dianggap standard: Create→POST, Read→GET, Update→PUT/PATCH, Delete→DELETE.

---

## Praktik: Rancangan REST API `books` (Tanpa Kode Dulu)

Sebelum tulis kode Node.js, kita rancang **bentuk data** dan **perilaku endpoint**.

### 1. Struktur data buku (JSON)

Contoh object buku:

```json
{
  "id": 1,
  "title": "Mastering Bulma",
  "author": "Jeremy Thomas",
  "category": "Design",
  "status": "PUBLISHED",
  "price": 150000,
  "stock": 25
}
```

Field ini cocok dengan tabel dan form yang sudah kamu buat di Bulma:

- `title`, `author`, `category` → untuk tabel & card.
- `status` → untuk tag warna (Published, Draft, Archived, dsb.).
- `price`, `stock` → untuk inventory & quick edit.

### 2. Detail tiap endpoint

1. **GET `/api/books`**
   - Tujuan: ambil list semua buku (nantinya untuk mengisi `inventory.html`).
   - Response (200 OK): array of books.

   ```json
   [
     {
       "id": 1,
       "title": "Mastering Bulma",
       "author": "Jeremy Thomas",
       "category": "Design",
       "status": "PUBLISHED",
       "price": 150000,
       "stock": 25
     },
     {
       "id": 2,
       "title": "React for Beginners",
       "author": "Some Author",
       "category": "Programming",
       "status": "DRAFT",
       "price": 175000,
       "stock": 0
     }
   ]
   ```

2. **GET `/api/books/:id`**
   - Tujuan: ambil detail 1 buku (misalnya untuk modal “Detail Buku”).
   - Response:
     - 200 OK + 1 object buku kalau id ditemukan.
     - 404 Not Found kalau id tidak ada.

3. **POST `/api/books`**
   - Tujuan: tambah buku baru dari form `add-book.html`.
   - Request Body (JSON):

     ```json
     {
       "title": "Clean Code",
       "author": "Robert C. Martin",
       "category": "Engineering",
       "status": "PUBLISHED",
       "price": 200000,
       "stock": 10
     }
     ```

   - Response:
     - 201 Created + object buku lengkap (dengan `id` yang baru dibuat).
     - Kalau data tidak valid → 400 Bad Request + pesan error.

4. **PUT `/api/books/:id`** (atau PATCH)
   - Tujuan: update data buku; misalnya dari quick edit inventory (ubah `price` dan `stock`).
   - Request Body (minimal):

     ```json
     {
       "price": 180000,
       "stock": 5
     }
     ```

   - Response:
     - 200 OK + object buku hasil update.
     - 404 Not Found jika id tidak ada.

5. **DELETE `/api/books/:id`**
   - Tujuan: hapus buku (tombol trash di tabel).
   - Response:
     - 204 No Content (biasa dipakai untuk DELETE sukses).
     - 404 Not Found jika id tidak ada.

Dengan desain ini, pola API kamu selaras dengan best practice REST (mapping CRUD ↔ HTTP methods yang konsisten).

---

## Preview Sesi 22: Setup Project Node.js + Express

Supaya tidak terlalu padat di satu sesi, di Sesi 21 ini kamu pegang dulu:

- Konsep 3 lapis: frontend Bulma ↔ backend Express ↔ database.
- Desain endpoint REST `books` yang akan dipakai UI dashboard kamu.
